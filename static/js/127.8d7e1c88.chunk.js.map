{"version":3,"file":"static/js/127.8d7e1c88.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/GridList/GridList.module.css?d1e7","components/GridList/GridList.jsx","webpack://react-homework-template/./src/components/PageHeading/PageHeading.module.css?b132","components/PageHeading/PageHeading.jsx","services/movies-api.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/SearchBar/SearchBar.jsx","views/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"grid\":\"GridList_grid__i85Yc\"};","import React from 'react';\nimport styles from './GridList.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function GridList({ children }) {\n  return <ul className={styles.grid}>{children}</ul>;\n}\n\nGridList.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"PageHeading_title__1wPIF\"};","import React from 'react';\nimport styles from './PageHeading.module.css';\nimport PropTypes from 'prop-types';\n\nexport default function PageHeading({ text }) {\n  return <h1 className={styles.title}>{text}</h1>;\n}\n\nPageHeading.propTypes = {\n  text: PropTypes.string.isRequired,\n};\n","const KEY = 'f16772f2af0be9f113024bcab02efac7';\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error('Not found'));\n}\n\nexport function fetchTrending() {\n  return fetchWithErrorHandling(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${KEY}`\n  );\n}\n\nexport function fetchMovie(movieName) {\n  return fetchWithErrorHandling(\n    `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${movieName}`\n  );\n}\n\nexport function fetchMovieDetails(movie_id) {\n  return fetchWithErrorHandling(\n    `https://api.themoviedb.org/3/movie/${movie_id}?api_key=${KEY}&language=en-US`\n  );\n}\n\nexport function fetchMovieCredits(movie_id) {\n  return fetchWithErrorHandling(\n    `https://api.themoviedb.org/3/movie/${movie_id}/credits?api_key=${KEY}&language=en-US`\n  );\n}\n\nexport function fetchMovieReviews(movie_id) {\n  return fetchWithErrorHandling(\n    `https://api.themoviedb.org/3/movie/${movie_id}/reviews?api_key=${KEY}&language=en-US&page=1`\n  );\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import React from 'react';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function SearchBar({ onSubmit }) {\n  const [movieQuery, setMovieQuery] = useState('');\n\n  function handleChange(event) {\n    setMovieQuery(event.currentTarget.value.toLowerCase());\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    if (movieQuery.trim() === '') {\n      return alert('Please enter movie name');\n    }\n    onSubmit(movieQuery);\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        placeholder=\"Please enter movie name\"\n        value={movieQuery}\n        onChange={handleChange}\n      />\n      <button className=\"button\" type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import PageHeading from 'components/PageHeading/PageHeading';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport React, { useState, useEffect } from 'react';\nimport SearchBar from 'components/SearchBar/SearchBar';\nimport * as api from '../services/movies-api';\nimport GridList from 'components/GridList/GridList';\n\nexport default function MoviesView() {\n  const [movieQuery, setMovieQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (movieQuery.trim() === '') {\n      return;\n    }\n    fetchMovies();\n    // eslint-disable-next-line\n  }, [movieQuery]);\n\n  useEffect(() => {\n    const queryBySearch =\n      new URLSearchParams(location.search).get('query') ?? '';\n    if (queryBySearch) {\n      setMovieQuery(queryBySearch);\n    }\n  }, [navigate, location]);\n\n  function onSearchQuery(movieQuery) {\n    setMovies([]);\n    setMovieQuery(movieQuery);\n  }\n\n  function fetchMovies() {\n    api\n      .fetchMovie(movieQuery)\n      .then(data => setMovies(data.results))\n      .then(\n        navigate({\n          ...location,\n          search: `query=${movieQuery}`,\n        })\n      );\n  }\n\n  return (\n    <>\n      <PageHeading text=\"Movies\" />\n      <SearchBar onSubmit={onSearchQuery} />\n\n      {movies && (\n        <GridList>\n          {movies.length !== 0 &&\n            movies.map(movie => (\n              <li key={movie.id}>\n                <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                  {movie.title}\n                </Link>\n                <hr />\n              </li>\n            ))}\n        </GridList>\n      )}\n    </>\n  );\n}\n"],"names":["GridList","children","className","styles","PageHeading","text","KEY","fetchWithErrorHandling","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrending","fetchMovie","movieName","fetchMovieDetails","movie_id","fetchMovieCredits","fetchMovieReviews","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","SearchBar","onSubmit","useState","movieQuery","setMovieQuery","event","preventDefault","trim","alert","type","placeholder","onChange","currentTarget","toLowerCase","MoviesView","movies","setMovies","location","useLocation","navigate","useNavigate","useEffect","api","then","data","results","search","queryBySearch","URLSearchParams","get","map","movie","to","id","state","from","title"],"sourceRoot":""}